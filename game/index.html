<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>My Phaser Demos</title>
    <script src="../lib/phaser.min.js"></script>
    <script src="Configuration.js"></script>
    <script src="Disc.js"></script>
    <script src="PlayerDisc.js"></script>
    <script src="TrailManager.js"></script>
    <script src="Trail.js"></script>
    <script src="Grid.js"></script>
    <script src="DiscManager.js"></script>
    <script src="BackgroundGradient.js"></script>
</head>
<body>
<script>

    var game = new Phaser.Game(800, 1500, Phaser.AUTO, '');
    var config = Configuration(game);
    var discManager;

    var MainState = function () {
    };

    MainState.prototype = {

        preload: function () {
            this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
            game.stage.backgroundColor = config.colors.backgroundColor;
            game.load.image(config.sprites.playerDisc.key, config.sprites.playerDisc.path);
            game.load.image(config.sprites.disc.key, config.sprites.disc.path);
            game.load.image(config.sprites.grid.key, config.sprites.grid.path);
            game.load.image(config.sprites.trail.key, config.sprites.trail.path);
        },

        create: function () {
            // game.time.advancedTiming = true;

            var bgGradient = new BackgroundGradient();
            bgGradient.add();

            var grid = new Grid(game.stage.width / 2, game.stage.height / 2);
            grid.add();

            game.physics.startSystem(Phaser.Physics.ARCADE);
            new PlayerDisc(game.stage.width / 2, game.stage.height / 2);

            discManager = new DiscManager();
            discManager.startAttacking();

        },

        update: function () {
            // console.log("game.time.fps: " + game.time.fps);
        }

    };

    config.game.state.add('MainState', MainState, true);

</script>
</body>
</html>